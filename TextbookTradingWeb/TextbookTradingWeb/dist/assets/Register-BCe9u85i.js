import{_ as y,b as P,c as R,d as a,e as r,w as o,r as l,j as q,u as d,k as C,V as E,W as _,Q as U,l as f,i as w,K as B,P as F}from"./index-Bc-dwE5O.js";import{r as N}from"./user-nO6ITqrd.js";import"./request-bgZeUyhp.js";import"./auth-BBsyecEI.js";const T={class:"register-container"},z={class:"register-box"},$={class:"register-header"},j={class:"logo"},I={class:"form-footer"},K={__name:"Register",setup(M){const v=q(),c=w(null),p=w(!1),s=B({username:"",password:"",confirmPassword:"",nickname:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,validator:(u,e,n)=>{e===""?n(new Error("请再次输入密码")):e!==s.password?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}]},V=async()=>{c.value.validate(async u=>{if(u){p.value=!0;try{await N({username:s.username,password:s.password,confirmPassword:s.confirmPassword,nickname:s.nickname}),F.success("注册成功，请登录"),v.push("/login")}catch(e){console.error(e)}finally{p.value=!1}}})};return(u,e)=>{const n=l("el-icon"),m=l("el-input"),i=l("el-form-item"),g=l("el-button"),k=l("el-form"),b=l("el-card");return P(),R("div",T,[a("div",z,[a("div",$,[a("div",j,[r(n,{size:40,color:"#2b9a6e"},{default:o(()=>[r(d(C))]),_:1}),e[5]||(e[5]=a("span",{class:"title"},"二手教材交易系统",-1))]),e[6]||(e[6]=a("p",{class:"subtitle"},"即刻加入，开启二手教材之旅",-1))]),r(b,{class:"register-card",shadow:"hover"},{default:o(()=>[e[10]||(e[10]=a("h2",{class:"form-title"},"欢迎注册",-1)),r(k,{model:s,rules:x,ref_key:"registerFormRef",ref:c,size:"large",class:"register-form"},{default:o(()=>[r(i,{prop:"username"},{default:o(()=>[r(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t),placeholder:"请输入用户名","prefix-icon":d(E)},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,{prop:"password"},{default:o(()=>[r(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),type:"password",placeholder:"设置密码","prefix-icon":d(_),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,{prop:"confirmPassword"},{default:o(()=>[r(m,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s.confirmPassword=t),type:"password",placeholder:"确认密码","prefix-icon":d(_),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,{prop:"nickname"},{default:o(()=>[r(m,{modelValue:s.nickname,"onUpdate:modelValue":e[3]||(e[3]=t=>s.nickname=t),placeholder:"请输入昵称","prefix-icon":d(U)},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,null,{default:o(()=>[r(g,{type:"primary",class:"submit-btn",loading:p.value,onClick:V},{default:o(()=>[...e[7]||(e[7]=[f(" 立即注册 ",-1)])]),_:1},8,["loading"])]),_:1}),a("div",I,[e[9]||(e[9]=f(" 已有账号？ ",-1)),r(g,{link:"",type:"primary",onClick:e[4]||(e[4]=t=>u.$router.push("/login"))},{default:o(()=>[...e[8]||(e[8]=[f("立即登录",-1)])]),_:1})])]),_:1},8,["model"])]),_:1}),e[11]||(e[11]=a("div",{class:"page-footer"},[a("p",null,"© 2025 Textbook Trading System")],-1))])])}}},G=y(K,[["__scopeId","data-v-12ad7f15"]]);export{G as default};
